#summary Подсветка и удаление сообщений по фильтру
#labels Phase-Deploy
#sidebar PluginsListNavigation

= Введение =
Чат в БК - основное средство общения. Однако, не всегда в чате можно увидеть полезное или приятное. Для того, чтобы он не омрачал Вас, чтобы отобража только ценные информацию, был написан плагин "Подсветка и удаление сообщений".

= Настройка =
Плагин предназначен для фильтрации сообщений и для выделения цветом тех сообщений, которые могут вызвать повышенный интерес. Плагин имеет 2 параметра: "!RexExp удаления" и "!RexExp выделения".

Если входящее сообщение соответствует регулярному выражению, заданному в "!RexExp удаления", то сообщение удаляется целиком. Пример фильтра удаления (системные сообщения о переходах по локациям):
{{{
<font class=sysdate>\d+\:\d+<\/font>\s*(?:Вас приветствует\:  <SPAN>.*?<\/SPAN>|\[<SPAN>.*?<\/SPAN>\] приветствует Вас|\[<SPAN>.*?<\/SPAN>\] отправил(?:ся|ась) )
}}}
Если входящее сообщение соответствует регулярному выражению, заданному в "!RexExp выделения", то часть сообщения, соответствующая фильтру, выделяется жёлтым цветом фона. Пример фильтра выделения (поиск услуги лечения):
{{{
((?:нуж\S*|над\S*|необх\S*|[еи]щ[еёоу])(?:\s*\d+)?\s*(?:лекар\S*|доктор\S*|врач\S*))
}}}

= Замечания =
 * Очень много полезного о регулярных выражениях можно прочитать в соответствующей [http://ru.wikipedia.org/wiki/Регулярные_выражения статье в Википедии]
 * Для тех, кто хочет просто добавить фильтр, но не хочет изучать регэкспы, маленький совет. Поставьте: для удаления в конце, а для выделения перед последней закрывающей скобкой - вертикальную черту "|", а за ней - свой фильтр.